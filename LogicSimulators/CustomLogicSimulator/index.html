<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Universal Gate Setup</title>
  <link rel="stylesheet" href="simulator/style.css" />
  <link rel="stylesheet" href="Settings.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.4/theme/material-darker.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
  <script defer src="SettingsFunctions.js"></script>
  <script defer src="simulator/functions.js"></script>
  <script defer src="SettingsScript.js"></script>
</head>
<body>
  <div id="mainContainer">
    <!-- LEFT SIDE: Form -->
    <div id="settingsPage">
      <form id="settingsForm">
        <h1>ğŸ§  Universal Logic Simulator Setup</h1>

        <!-- Base input -->
        <label for="baseInput">ğŸ”¢ Base (â‰¥2):</label>
        <input type="number" id="baseInput" min="2" value="2" required />

        <!-- Symbols input -->
        <label for="symbolInput">ğŸ”£ Symbols (comma-separated):</label>
        <textarea id="symbolInput" rows="2"  placeholder="A,B,C or leave blank for 0,1,2" >0,1</textarea>
        
        <!-- Colors section -->
        <h2>ğŸ¨ Signal Colors</h2>
        <div id="colorPreview"></div>
        <button id="shuffleColors" type="button">ğŸ¨ assign Random Colors</button>


        <!-- Gate Logic -->
        <h2>âš™ï¸ Gate Logic Code</h2>
<textarea readonly id="gateLogic"  name="gateLogic" rows="6"  placeholder="([a, b],gate) => [(a + 2*b) % 3]" spellcheck="false">const UniversalGate = ([a, b]) => {
  // Hopefully Universal
  const n = symbols.length;
  if (a === b) return [(a + 1) % n];
  if (a < b && a < n - 1) return [1];
  return [0];
};</textarea>

        <button id="nextBtn" type="button">Next</button>
      </form>
    </div>

    <!-- RIGHT SIDE: Preview and code editors -->
    <div id="previewPanel">
      <div>
      <label for="delay-input" style="font-weight: bold;">Signal Delay (ms):</label>
      <input id="delay-input" type="number" value="0" min="0" step="10"/>
    </div>
      <div class="canvas" id="canvas"></div>
      <svg id="wire-layer" style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:0;overflow: visible;position: absolute;"></svg>
    </div>
  </div>
  
  <div class="modal hidden" id="confirmModal">
    <div class="modal-content">
      <p>âš ï¸ Once you proceed, configurations can't be changed. Are you sure?</p>
      <div class="modal-buttons">
        <button id="confirmBtn">Confirm</button>
        <button id="cancelBtn">Cancel</button>
      </div>
    </div>
  </div>  
</body>
</html>
